# План автоматизированного тестирования продукта «Путешествие дня»

![](pic/service.png)

Приложение предлагает купить тур по определённой цене с помощью двух способов:
1.Обычная оплата по дебетовой карте
2.Уникальная технология: выдача кредита по данным банковской карты
**Набор карт представленных для тестирования:**

    "number": "4444 4444 4444 4441",    "status": "APPROVED"
    "number": "4444 4444 4444 4442"     "status": "DECLINED"

Заявлена поддержка двух СУБД:
- MySQL
- PostgreSQL

**ВАЛИДНЫЕ требования по заполнению полей:**
- в поле НОМЕР КАРТЫ вводить значение, состоящее из 12 цифр
- в поле МЕСЯЦ вводить двухзначное от 01 до 12 включительно, для текущего года, не менее цифры текущего месяца
- в поле ГОД вводить данные, не превышающие 5 лет от текущего года, и не менее текущего года
- в поле ИМЯ вводиться данные на латинице не менее одной буквы
- в поле CVC/CVV вводить трёхзначное число от 000 до 999 включительно

_Перед началом тестирования:_
1.Запустить приложение с одной из СУБД(mysql или postgresql)
2.Выбрать один из способов оплаты продукта:_
**1 вариант через поле «Купить»:**
- Переходим на http://localhost:8080/
- Кликнуть по кнопке «Купить»


**2 вариант через поле «Купить в кредит»**
- Переходим на http://localhost:8080/
- Кликнуть по кнопке «Купить в кредит»

_Далее шаги сценарии для обоих способов идентичны!_

## 1.Перечень автоматизируемых сценариев
### Позитивные сценарии

**Основная задача:** автоматизировать позитивные сценарии позитивные покупки тура в приложении «Путешествие дня»

**Варианты сценариев:**
1.Оплата через поле «Купить» по карте со статусом APPROVED<br>
Номер карты 4444 4444 4444 4441, остальные поля заполнены корректными значениями<br>
Ожидаемый результат: появилось всплывающее окно «Успешно» с надписью "Операция одобрена Банком.", в БД появилась запись со статусом APPROVED

2.Оплата через поле «Купить в кредит» по карте со статусом APPROVED<br>
Номер карты 4444 4444 4444 4441, остальные поля заполнены корректными значениями<br>
Ожидаемый результат: появилось всплывающее окно «Успешно» с надписью "Операция одобрена Банком.", в БД появилась запись со статусом APPROVED

3.Оплата через поле «Купить» по карте со статусом DECLINED<br>
Номер карты 4444 4444 4444 4442, остальные поля заполнены корректными значениями<br>
Ожидаемый результат: появилось всплывающее окно «Ошибка» с надписью "Банк отказал в проведении операции.", в БД появилась запись со статусом DECLINED

4.Оплата через поле «Купить в кредит» по карте со статусом DECLINED<br>
Номер карты 4444 4444 4444 4442, остальные поля заполнены корректными значениями<br>
Ожидаемый результат: появилось всплывающее окно «Ошибка» с надписью "Банк отказал в проведении операции.", в БД появилась запись со статусом DECLINED


### Негативные сценарии 
**Основная задача:** автоматизировать негативные сценарии позитивные покупки тура в приложении «Путешествие дня»

**Варианты сценариев:**
1.Оплата по несуществующей карте для поля «Купить»<br>
Номер карты 4444 4444 4444 4443, остальные поля заполнены корректными значениями<br>
Ожидаемый результат: появилось всплывающее окно «Ошибка» с надписью "Банк отказал в проведении операции.", в БД появилась запись со статусом DECLINED

2.Оплата по несуществующей карте для поля «Купить в кредит»<br>
Номер карты 4444 4444 4444 4443, остальные поля заполнены корректными значениями
Ожидаемый результат: появилось всплывающее окно «Ошибка» с надписью "Банк отказал в проведении операции.", в БД появилась запись со статусом DECLINED

3.Оплата по не валидной карте для поля «Купить»<br>
Номер карты 4444 4444 4444 444 , остальные поля заполнены корректными значениями
Ожидаемый результат: появилось сообщение «Неверный формат» под полем «Номер карты», в БД запись не появилась. 

4.Оплата по не валидной карте для поля «Купить в кредит»<br>
Номер карты 4444 4444 4444 444 , остальные поля заполнены корректными значениями
Ожидаемый результат: появилось сообщение «Неверный формат» под полем «Номер карты», в БД запись не появилась. 

5.Оплата по карте с истекшим сроком по месяцу для поля «Купить»<br>
В поле месяц ввести данные менее текущего месяца, в поле год текущий год,<br> 
остальные поля заполнены корректными значениями
Ожидаемый результат: появилось сообщение «Неверно указан срок действия карты» под полем «Месяц», в БД запись не появилась. 

6.Оплата по карте с истекшим сроком по месяцу для поля «Купить в кредит»<br>
В поле месяц ввести данные менее текущего месяца, в поле год текущий год,<br>
остальные поля заполнены корректными значениями<br>
Ожидаемый результат: появилось сообщение «Неверно указан срок действия карты» под полем «Месяц», в БД запись не появилась. 

7.Оплата по карте с истекшим сроком по году для поля «Купить»<br>
В поле год  ввести данные менее текущего года, остальные поля заполнены корректными значениями
Ожидаемый результат: появилось сообщение «Неверно указан срок действия карты» под полем «Год», в БД запись не появилась. 

8.Оплата по карте с истекшим сроком по году для поля «Купить в кредит»<br>
В поле год  ввести данные менее текущего года, остальные поля заполнены корректными значениями<br>
Ожидаемый результат: появилось сообщение «Неверно указан срок действия карты» под полем «Год», в БД запись не появилась. 

9.Оплата по карте с годом, превышающим 5 лет для поля «Купить»<br>
В поле год  ввести данные более 5 лет от текущего года, остальные поля заполнены корректными значениями<br>
Ожидаемый результат: появилось сообщение «Неверно указан срок действия карты» под полем «Год», в БД запись не появилась. 

10.Оплата по карте с годом, превышающим 5 лет для поля «Купить в кредит»<br>
В поле год  ввести данные более 5 лет от текущего года, остальные поля заполнены корректными значениями<br>
Ожидаемый результат: появилось сообщение «Неверно указан срок действия карты» под полем «Год», в БД запись не появилась. 

11.Пустое поле  Номер карты  для поля «Купить»<br>
В поле Номер карты не вводить данные, остальные поля заполнены корректными значениями<br>
Ожидаемый результат: появилось сообщение «Поле обязательно для заполнения» под полем «Номер карты», в БД запись не появилась. 

12.Пустое поле  Номер карты  для поля «Купить в кредит»<br>
В поле Номер карты не вводить данные, остальные поля заполнены корректными значениями<br>
Ожидаемый результат: появилось сообщение «Поле обязательно для заполнения» под полем «Номер карты», в БД запись не появилась. 

**13.Оплата по карте со сроком истечения менее года для поля «Купить в кредит»**<br>
В поле год указать текущий год, остальные поля заполнены корректными значениями<br>
Ожидаемый результат: появилось сообщение «Неверно указан срок действия карты» под полем «Год», в БД запись не появилась. 

14.Ввод значения 00 в поле месяц для поля «Купить»<br>
В поле месяц ввести данные 00, в поле год на 1 год больше текущего года,<br>
 остальные поля заполнены корректными значениями<br>
Ожидаемый результат: появилось сообщение «Неверный формат» под полем «Месяц», в БД запись не появилась. 

15.Ввод значения 00 в поле месяц для поля «Купить в кредит»<br>
В поле месяц ввести данные 00, в поле год на 1 год больше текущего года,<br> 
остальные поля заполнены корректными значениями
Ожидаемый результат: появилось сообщение «Неверный формат» под полем «Месяц», в БД запись не появилась. 

16.Ввод не валидного месяца в поле месяц для поля «Купить»<br>
В поле месяц ввести данные превышающие 12, остальные поля заполнены корректными значениями<br>
Ожидаемый результат: появилось сообщение «Неверный формат» под полем «Месяц», в БД запись не появилась. 

17.Ввод не валидного месяца в поле месяц для поля «Купить в кредит»<br>
В поле месяц ввести данные превышающие 12, остальные поля заполнены корректными значениями<br>
Ожидаемый результат: появилось сообщение «Неверный формат» под полем «Месяц», в БД запись не появилась. 

18.Пустое поле месяц для поля «Купить»<br>
В поле месяц не вводить данные, остальные поля заполнены корректными значениями<br>
Ожидаемый результат: появилось сообщение «Поле обязательно для заполнения» под полем «Месяц», в БД запись не появилась. 

19.Пустое поле месяц для поля «Купить в кредит»<br>
В поле месяц не вводить данные, остальные поля заполнены корректными значениями<br>
Ожидаемый результат: появилось сообщение «Поле обязательно для заполнения» под полем «Месяц», в БД запись не появилась. 

20.Пустое поле год для поля «Купить»<br>
В поле год не вводить данные, остальные поля заполнены корректными значениями<br>
Ожидаемый результат: появилось сообщение «Поле обязательно для заполнения» под полем «Месяц», в БД запись не появилась. 

21.Пустое поле год для поля «Купить в кредит»<br>
В поле год не вводить данные, остальные поля заполнены корректными значениями<br>
Ожидаемый результат: появилось сообщение «Поле обязательно для заполнения» под полем «Месяц», в БД запись не появилась. 


22.Пустое поле Владелец  для поля «Купить»<br>
В поле Владелец  не вводить данные, остальные поля заполнены корректными значениями<br>
Ожидаемый результат: появилось сообщение «Поле обязательно для заполнения» под полем «Владелец», в БД запись не появилась. 

23.Пустое поле Владелец  для поля «Купить в кредит»<br>
В поле Владелец  не вводить данные, остальные поля заполнены корректными значениями<br>
Ожидаемый результат: появилось сообщение «Поле обязательно для заполнения» под полем «Владелец», в БД запись не появилась. 

24.Ввод кириллицей в поле Владелец  для поля «Купить»<br>
В поле Владелец  ввести имя кириллицей, остальные поля заполнены корректными значениями<br>
Ожидаемый результат: появилось сообщение «Неверный формат» под полем «Владелец», в БД запись не появилась. 

25.Ввод кириллицей в поле Владелец  для поля «Купить в кредит»<br>
В поле Владелец  ввести имя кириллицей, остальные поля заполнены корректными значениями<br>
Ожидаемый результат: появилось сообщение «Неверный формат» под полем «Владелец», в БД запись не появилась. 

26.Ввод  данных содержащих символы в поле Владелец  для поля «Купить»<br>
В поле Владелец  ввести имя латиницей содержащее символ,<br>
остальные поля заполнены корректными значениями<br>
Ожидаемый результат: появилось сообщение «Неверный формат» под полем «Владелец», в БД запись не появилась. 

27.Ввод  данных содержащих символы в поле Владелец  для поля «Купить в кредит»<br>
В поле Владелец  ввести имя латиницей содержащее символ,<br>
 остальные поля заполнены корректными значениями<br>
Ожидаемый результат: появилось сообщение «Неверный формат» под полем «Владелец», в БД запись не появилась. 

28.Ввод  цифр в поле Владелец  для поля «Купить»<br>
В поле Владелец  ввести цифры, остальные поля заполнены корректными значениями<br>
Ожидаемый результат: появилось сообщение «Неверный формат» под полем «Владелец», в БД запись не появилась. 

29.Ввод  цифр в поле Владелец  для поля «Купить в кредит»<br>
В поле Владелец  ввести цифры, остальные поля заполнены корректными значениями<br>
Ожидаемый результат: появилось сообщение «Неверный формат» под полем «Владелец», в БД запись не появилась. 


30.Пустое поле CVC/CVV  для поля «Купить»
В поле CVC/CVV  не вводить данные, остальные поля заполнены корректными значениями<br>
Ожидаемый результат: появилось сообщение «Поле обязательно для заполнения» под полем «CVC/CVV», в БД запись не появилась. 

31.Пустое поле CVC/CVV  для поля «Купить в кредит»<br>
В поле CVC/CVV  не вводить данные, остальные поля заполнены корректными значениями<br>
Ожидаемый результат: появилось сообщение «Поле обязательно для заполнения» под полем «CVC/CVV», в БД запись не появилась. 

32.Ввод не валидных данных в поле CVC/CVV  для поля «Купить»<br>
В поле CVC/CVV  ввести двухзначное число, остальные поля заполнены корректными значениями<br>
Ожидаемый результат: появилось сообщение «Неверный формат» под полем «CVC/CVV», в БД запись не появилась. 


33.Ввод не валидных данных в поле CVC/CVV  для поля «Купить в кредит»<br>
В поле CVC/CVV  ввести двухзначное число, остальные поля заполнены корректными значениями<br>
Ожидаемый результат: появилось сообщение «Неверный формат» под полем «CVC/CVV», в БД запись не появилась. 


## 2.Перечень используемых инструментов с обоснованием выбора
- IntelliJ IDEA — интегрированная среда разработки программного обеспечения. Подходит для работы на Java. Умная среда разработки, есть автодополнения кода и очень гибкие настройки для работы. Поддерживает операционные системы Microsoft Windows, Linux, macOC.
- Java 8 — язык написания авто-тестов. Удобен тем, что поддерживает большое количество библиотек для написания кода автотестов.
- Gradle — система управления зависимостями. Проект с автотестами создать на базе Gradle.
- JUnit5 — платформа для написания авто-тестов и их запуска. Использует все функции Java 8, вся структура содержится в одной библиотеке, в отличии от JUnit4.
- Selenide — это фреймворк для автоматизированного тестирования веб- приложений на основе Selenium WebDriver. Удобен тем, что легко добавляется в зависимости в файл build.gradle. Не требует отдельной загрузки файла вебдрайвера для управления браузером. Есть все удобные методв для работы. Экономия времени на написание тестов.
- Библиотека Facker. Легко подключается в build.gradle. Используем для ввода рандомных данных. 
- Allure - фреймворк, позволит создать визуально наглядную картину выполнения тестов.
- Postman –для проверки запросов к API. Очень удобный функциональный инструмент для тестирования простых запрос к API, нам больше и не нужно.


## 3.Перечень и описание возможных рисков при автоматизации
1.Нечёткое ТЗ, всё работает на симуляторе банковских сервисов, что может привести к ошибке в работе реального приложения
2.Неуникальные локаторы, которые затрудняют поиск элементов на страницах приложения
3.Многостраничное приложение, что затрудняет процесс написания автотестов
4.Сложности в настройки Docker. Необходимо проверить поддержку 2х СУБД - MySQL и PostgreSQL
5.Нет информации по  доступу к API, как проверить данные по картам занесённые в СУБД?

## 4.Интервальная оценка с учётом рисков (в часах)
Настройка тестового окружения – 8 
Написание и отладка автотестов - 40
Прогон тестов и заведение баг репортов - 8
Устранение замечаний - 16
Подготовка отчета по итогам автоматизированного тестирования - 8
Подготовка отчета по итогам автоматизации - 8
**Итого с учетом рисков: 110 часов**

## 5.План сдачи работ 
Написание автотестов 10.11.2020
Прогон и подготовка отчёта -15.11.2020
